<!DOCTYPE html>
<html>
<head>
  <title>Almandala</title>
  <script type="text/javascript" src="./js/paper-core.min.js"></script>
  <script type="text/javascript">
  window.onload = function() {
    var center = [window.innerWidth / 2, window.innerHeight / 2]
    var radius = Math.min(center[0], center[1]) * 0.8;
    paper.install(window);

    var canvas = document.getElementById('main');
    paper.setup(canvas);

    var draw = new Layer();

    var guides = new Layer();
    var circle = new Path.Circle({
      center: center,
      radius: radius,
      strokeColor: '#c0c0c0',
    });


    var pencil = new Tool();
    pencil.onMouseDown = function(event) {
      draw.activate();
      path = new Path();
      path.strokeColor = 'black';
      path.add(event.point);
    };
    pencil.onMouseDrag = function(event) {
      path.add(event.point);
    };

    var nop = new Tool();
    nop.activate();

    document.getElementById("pencil").onclick = function() {
      (tool == pencil ? nop : pencil).activate();
    };

    pencil.activate();
    // window.setInterval(function(){ draw.rotate(3); }, 10);
  }
  </script>
</head>
<body>
  <button id="pencil">draw</button>
  <canvas id="main" style="width: 100%; height: 90%;">
  </canvas>
</body>
</html>
